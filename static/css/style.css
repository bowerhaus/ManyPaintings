/* Many Paintings - Complete CSS Stylesheet */

/* ===== BASE STYLES & RESETS ===== */
* {
    box-sizing: border-box;
}

html, body {
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

body {
    background: #000;
    color: #fff;
    transition: background-color 0.5s ease, color 0.5s ease;
    overflow: hidden;
}

/* ===== ANIMATIONS ===== */
@keyframes spin {
    to { transform: rotate(360deg); }
}

/* ===== UTILITY CLASSES ===== */
.hidden { display: none !important; }
.visible { display: block !important; }
.text-center { text-align: center; }

/* ===== IMAGE LAYER STYLES ===== */
.image-layer {
    position: absolute;
    top: -25%;
    left: -25%;
    width: 150%;
    height: 150%;
    opacity: 0;
    transition: opacity 2s ease-in-out;
    will-change: opacity, transform;
    pointer-events: none;
    overflow: hidden;
    mix-blend-mode: normal;
}

body.white-background .image-layer {
    mix-blend-mode: multiply;
}

.image-layer img {
    /* Default: images use their natural size */
    display: block;
    position: absolute;
    /* Center the image initially */
    top: 50%;
    left: 50%;
    /* Transform origin at center for rotations and scaling */
    transform-origin: center;
    /* These will be overridden by JS when best_fit_scaling is enabled */
    max-width: none;
    max-height: none;
}

.image-layer.active {
    opacity: 0.7;
}

.image-layer.fade-in {
    opacity: 0.7;
}

.image-layer.fade-out {
    opacity: 0;
}

/* ===== MATTE BORDER STYLES ===== */
.matte-border {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    border-style: solid !important;
    border-color: #F8F8F8 !important;
    border-width: 0px !important;
    box-sizing: border-box !important;
    background: transparent !important;
    background-image: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 108, 0.15) 1px, transparent 1px),
        radial-gradient(circle at 80% 50%, rgba(120, 119, 108, 0.12) 1px, transparent 1px),
        radial-gradient(circle at 40% 20%, rgba(120, 119, 108, 0.14) 1px, transparent 1px),
        radial-gradient(circle at 40% 80%, rgba(120, 119, 108, 0.13) 1px, transparent 1px),
        radial-gradient(circle at 60% 30%, rgba(120, 119, 108, 0.11) 1px, transparent 1px),
        radial-gradient(circle at 60% 70%, rgba(120, 119, 108, 0.12) 1px, transparent 1px),
        radial-gradient(circle at 30% 40%, rgba(140, 120, 100, 0.08) 0.5px, transparent 0.5px),
        radial-gradient(circle at 70% 60%, rgba(140, 120, 100, 0.09) 0.5px, transparent 0.5px),
        radial-gradient(circle at 15% 75%, rgba(140, 120, 100, 0.07) 0.5px, transparent 0.5px),
        radial-gradient(circle at 85% 25%, rgba(140, 120, 100, 0.08) 0.5px, transparent 0.5px),
        linear-gradient(90deg, rgba(0,0,0,0.06) 50%, transparent 50%),
        linear-gradient(rgba(0,0,0,0.05) 50%, transparent 50%),
        linear-gradient(45deg, rgba(0,0,0,0.04) 50%, transparent 50%),
        linear-gradient(-45deg, rgba(0,0,0,0.04) 50%, transparent 50%),
        radial-gradient(ellipse at 25% 25%, rgba(250, 248, 240, 0.3) 30%, transparent 70%),
        radial-gradient(ellipse at 75% 75%, rgba(248, 250, 245, 0.25) 25%, transparent 75%);
    background-size: 
        8px 8px, 12px 12px, 10px 10px, 14px 14px, 7px 7px, 9px 9px,
        4px 4px, 5px 5px, 6px 6px, 11px 11px,
        1px 1px, 1px 1px, 2px 2px, 2px 2px,
        80px 80px, 60px 60px;
    background-position:
        0 0, 3px 3px, 6px 6px, 1px 1px, 4px 4px, 7px 7px,
        2px 2px, 8px 8px, 5px 5px, 9px 9px,
        0 0, 0.5px 0.5px, 1px 1px, 1.5px 1.5px,
        0 0, 20px 20px;
    transition: border-width 0.8s ease-out, border-color 0.3s ease;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
    z-index: 50 !important;
    pointer-events: none !important;
}

.matte-border.classic {
    border-style: solid;
}

.matte-border.modern {
    border-style: solid;
    border-radius: 8px;
}

.matte-border.elegant {
    border-style: solid;
    background-image: 
        radial-gradient(circle at 25% 25%, rgba(120, 119, 108, 0.18) 1px, transparent 1px),
        radial-gradient(circle at 75% 75%, rgba(120, 119, 108, 0.16) 1px, transparent 1px),
        radial-gradient(circle at 50% 10%, rgba(120, 119, 108, 0.14) 1px, transparent 1px),
        radial-gradient(circle at 50% 90%, rgba(120, 119, 108, 0.15) 1px, transparent 1px),
        radial-gradient(circle at 10% 60%, rgba(140, 120, 100, 0.12) 0.5px, transparent 0.5px),
        radial-gradient(circle at 90% 40%, rgba(140, 120, 100, 0.11) 0.5px, transparent 0.5px),
        linear-gradient(45deg, rgba(0,0,0,0.08) 50%, transparent 50%),
        linear-gradient(-45deg, rgba(0,0,0,0.07) 50%, transparent 50%),
        linear-gradient(90deg, rgba(0,0,0,0.06) 50%, transparent 50%),
        linear-gradient(rgba(0,0,0,0.05) 50%, transparent 50%),
        radial-gradient(ellipse at 30% 30%, rgba(252, 250, 248, 0.4) 25%, transparent 75%),
        radial-gradient(ellipse at 70% 70%, rgba(250, 252, 250, 0.35) 20%, transparent 80%);
    background-size: 
        12px 12px, 15px 15px, 10px 10px, 18px 18px,
        6px 6px, 8px 8px,
        2px 2px, 2px 2px, 1px 1px, 1px 1px,
        90px 90px, 70px 70px;
}

.matte-border.disabled {
    display: none !important;
}

/* ===== FRAME TV STYLE BEVELED FRAME ===== */
.beveled-edge {
    pointer-events: none;
    z-index: 55;
    transition: opacity 0.3s ease;
}

.beveled-corner {
    pointer-events: none;
    z-index: 55;
    transition: opacity 0.3s ease;
}

/* Enhanced beveled edges with additional texture and depth */
.beveled-edge-top {
    background: linear-gradient(to bottom,
        rgba(255, 255, 255, 0.5) 0%,
        rgba(255, 255, 255, 0.3) 20%,
        rgba(240, 240, 240, 0.2) 40%,
        rgba(200, 200, 200, 0.1) 60%,
        rgba(0, 0, 0, 0.15) 80%,
        rgba(0, 0, 0, 0.35) 100%),
        linear-gradient(90deg,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 50%,
        rgba(0, 0, 0, 0.05) 100%);
    background-blend-mode: multiply, normal;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.beveled-edge-right {
    background: linear-gradient(to right,
        rgba(0, 0, 0, 0.4) 0%,
        rgba(0, 0, 0, 0.2) 20%,
        rgba(100, 100, 100, 0.1) 40%,
        rgba(200, 200, 200, 0.15) 60%,
        rgba(255, 255, 255, 0.2) 80%,
        rgba(255, 255, 255, 0.3) 100%),
        linear-gradient(0deg,
        rgba(0, 0, 0, 0.05) 0%,
        transparent 50%,
        rgba(255, 255, 255, 0.05) 100%);
    background-blend-mode: multiply, normal;
    border-left: 1px solid rgba(0, 0, 0, 0.15);
}

.beveled-edge-bottom {
    background: linear-gradient(to bottom,
        rgba(0, 0, 0, 0.4) 0%,
        rgba(0, 0, 0, 0.2) 20%,
        rgba(100, 100, 100, 0.1) 40%,
        rgba(200, 200, 200, 0.15) 60%,
        rgba(255, 255, 255, 0.2) 80%,
        rgba(255, 255, 255, 0.25) 100%),
        linear-gradient(90deg,
        rgba(0, 0, 0, 0.05) 0%,
        transparent 50%,
        rgba(255, 255, 255, 0.05) 100%);
    background-blend-mode: multiply, normal;
    border-top: 1px solid rgba(0, 0, 0, 0.15);
}

.beveled-edge-left {
    background: linear-gradient(to right,
        rgba(255, 255, 255, 0.5) 0%,
        rgba(255, 255, 255, 0.3) 20%,
        rgba(240, 240, 240, 0.2) 40%,
        rgba(200, 200, 200, 0.1) 60%,
        rgba(0, 0, 0, 0.15) 80%,
        rgba(0, 0, 0, 0.35) 100%),
        linear-gradient(0deg,
        rgba(255, 255, 255, 0.05) 0%,
        transparent 50%,
        rgba(0, 0, 0, 0.05) 100%);
    background-blend-mode: multiply, normal;
    border-right: 1px solid rgba(0, 0, 0, 0.1);
}

/* Simple Frame TV style shadow - just a subtle inset shadow all around */
.frame-tv-shadow {
    /* The actual Frame TV has a very subtle, uniform inset shadow */
    pointer-events: none;
    z-index: 55;
    transition: opacity 0.3s ease;
}

/* Frame TV style corner bevels - 45-degree blending of adjacent edges */
.beveled-corner-top-left {
    background: linear-gradient(45deg,
        rgba(255, 255, 255, 0.4) 0%,
        rgba(255, 255, 255, 0.3) 30%,
        rgba(200, 200, 200, 0.2) 60%,
        rgba(0, 0, 0, 0.2) 100%);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
}

.beveled-corner-top-right {
    background: linear-gradient(135deg,
        rgba(255, 255, 255, 0.4) 0%,
        rgba(200, 200, 200, 0.25) 30%,
        rgba(100, 100, 100, 0.2) 60%,
        rgba(0, 0, 0, 0.3) 100%);
    border-bottom: 1px solid rgba(0, 0, 0, 0.15);
    border-left: 1px solid rgba(0, 0, 0, 0.15);
}

.beveled-corner-bottom-right {
    background: linear-gradient(45deg,
        rgba(0, 0, 0, 0.4) 0%,
        rgba(0, 0, 0, 0.3) 30%,
        rgba(100, 100, 100, 0.2) 60%,
        rgba(200, 200, 200, 0.15) 100%);
    border-top: 1px solid rgba(0, 0, 0, 0.15);
    border-left: 1px solid rgba(0, 0, 0, 0.15);
}

.beveled-corner-bottom-left {
    background: linear-gradient(135deg,
        rgba(0, 0, 0, 0.3) 0%,
        rgba(100, 100, 100, 0.25) 30%,
        rgba(200, 200, 200, 0.2) 60%,
        rgba(255, 255, 255, 0.3) 100%);
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
}

/* ===== KIOSK MODE CURSOR HIDING ===== */
.kiosk-mode {
    cursor: none;
}

.kiosk-mode * {
    cursor: none !important;
}

/* ===== PATTERN DISPLAY FOR KIOSK MODE ===== */
.pattern-display.kiosk-pattern {
    position: absolute;
    bottom: 3rem;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 1rem 1.5rem;
    border-radius: 0.5rem;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    pointer-events: auto;
    transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease;
}

body.white-background .pattern-display.kiosk-pattern {
    background: rgba(255, 255, 255, 0.9);
    color: #000;
    border: 1px solid rgba(0, 0, 0, 0.1);
}

.pattern-display.kiosk-pattern .code {
    color: #fff;
    font-weight: bold;
    transition: color 0.5s ease;
}

body.white-background .pattern-display.kiosk-pattern .code {
    color: #000;
}

/* ===== ONSCREEN CONTROLS VISIBILITY ===== */
#onscreen-controls.visible {
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: auto !important;
}

#onscreen-controls {
    transition: opacity 400ms cubic-bezier(0.4, 0, 0.2, 1), transform 400ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

#controls-trigger-area {
    pointer-events: auto !important;
}

/* ===== WHITE BACKGROUND MODE STYLES ===== */
body.white-background {
    background: #fff !important;
    color: #000 !important;
    transition: background-color 0.5s ease, color 0.5s ease;
}

body.white-background .filterable-background {
    background: #fff !important;
}

body.white-background #kiosk-container {
    background: #fff !important;
    background-color: #fff !important;
}

body.white-background .image-layer {
    mix-blend-mode: multiply;
}

body.white-background #loading-indicator {
    background: rgba(255, 255, 255, 0.9) !important;
    color: #000 !important;
}

body.white-background .loading-spinner {
    border-color: rgba(0, 0, 0, 0.2) !important;
    border-top-color: #000 !important;
}

body.white-background #fullscreen-btn {
    background: rgba(0, 0, 0, 0.1) !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
    color: #000 !important;
}

body.white-background #fullscreen-btn:hover {
    background: rgba(0, 0, 0, 0.2) !important;
    border-color: rgba(0, 0, 0, 0.4) !important;
}

body.white-background #error-message {
    background: rgba(220, 38, 127, 1.0) !important;
}

/* White background mode for control panel */
body.white-background #onscreen-controls {
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.8) 60%, transparent 100%) !important;
    color: #fff !important;
}

body.white-background #onscreen-controls label {
    color: rgba(255, 255, 255, 0.9) !important;
}

body.white-background #onscreen-controls span {
    color: rgba(255, 255, 255, 0.9) !important;
    background: rgba(255, 255, 255, 0.1) !important;
}

body.white-background #onscreen-controls input[type="range"] {
    background: rgba(255, 255, 255, 0.2) !important;
}

body.white-background #onscreen-controls .slider::-webkit-slider-thumb {
    background: rgba(255, 255, 255, 0.9) !important;
}

body.white-background #onscreen-controls .slider::-moz-range-thumb {
    background: rgba(255, 255, 255, 0.9) !important;
}

body.white-background #play-pause-btn {
    background: rgba(255, 255, 255, 0.9) !important;
    color: rgba(0, 0, 0, 0.9) !important;
}

body.white-background #play-pause-btn:hover {
    background: rgba(255, 255, 255, 1) !important;
    box-shadow: 0 5px 20px rgba(255, 255, 255, 0.3) !important;
}

body.white-background #new-pattern-btn,
body.white-background #background-toggle-btn,
body.white-background #audio-toggle-btn,
body.white-background #favorite-btn,
body.white-background #favorites-gallery-btn,
body.white-background #image-manager-btn,
body.white-background #gallery-manager-btn {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: rgba(255, 255, 255, 0.9) !important;
}

body.white-background #new-pattern-btn:hover,
body.white-background #background-toggle-btn:hover,
body.white-background #audio-toggle-btn:hover,
body.white-background #favorite-btn:hover,
body.white-background #favorites-gallery-btn:hover,
body.white-background #image-manager-btn:hover,
body.white-background #gallery-manager-btn:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1) !important;
}

/* Kiosk mode controls - white background mode */
body.white-background #kiosk-controls button {
    background: rgba(0, 0, 0, 0.8) !important;
    border-color: rgba(255, 255, 255, 0.3) !important;
    color: #fff !important;
}

body.white-background #kiosk-controls button:hover {
    background: rgba(0, 0, 0, 0.9) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
}

/* ===== KIOSK CONTROLS POSITIONING ===== */
#kiosk-controls {
    z-index: 999 !important;
}

/* ===== BOTTOM OVERLAY CONTROL PANEL ===== */
.bottom-controls-trigger {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50vh;
    z-index: 200;
    pointer-events: auto;
}

.bottom-overlay-panel {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    min-height: 200px;
    max-height: 80vh;
    background: linear-gradient(to top, rgba(255, 255, 255, 1.0) 0%, rgba(255, 255, 255, 1.0) 60px, rgba(255, 255, 255, 0.95) 120px, rgba(255, 255, 255, 0.8) 180px, transparent 100%);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    opacity: 0;
    transform: translateY(100%);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
    box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.2), 0 -1px 4px rgba(0, 0, 0, 0.1);
    height: auto;
    overflow: visible;
}

.bottom-overlay-panel.visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.overlay-content {
    position: relative;
    bottom: auto;
    left: auto;
    transform: none;
    width: 90%;
    max-width: 1200px;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    align-items: center;
    margin: 2rem auto;
    padding: 2rem 0;
}

/* ===== QUICK ACTIONS ===== */
.quick-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.control-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    color: rgba(0, 0, 0, 0.9);
}

.control-btn:hover {
    background: rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.control-btn.primary {
    background: rgba(0, 0, 0, 0.9);
    color: rgba(255, 255, 255, 0.9);
}

.control-btn.primary:hover {
    background: rgba(0, 0, 0, 1);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
}

.control-btn svg {
    width: 20px;
    height: 20px;
    fill: currentColor;
}

/* ===== CONTROLS GRID ===== */
.controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    width: 100%;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
}

.control-group label {
    color: rgba(0, 0, 0, 0.8);
    font-size: 0.9rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.control-input {
    display: flex;
    align-items: center;
    gap: 1rem;
    width: 100%;
}

.control-input input[type="range"] {
    flex: 1;
    height: 4px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 2px;
    outline: none;
    -webkit-appearance: none;
    appearance: none;
    cursor: pointer;
}

.control-input input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: rgba(0, 0, 0, 0.9);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
}

.control-input input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.control-input input[type="range"]::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: rgba(0, 0, 0, 0.9);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    transition: all 0.3s ease;
}

.control-input span {
    color: rgba(0, 0, 0, 0.9);
    font-size: 0.85rem;
    font-weight: 600;
    font-family: 'Courier New', monospace;
    min-width: 3rem;
    text-align: center;
    padding: 0.25rem 0.5rem;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 0.25rem;
}

.pattern-display {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 0.25rem;
    width: 100%;
}

.pattern-display span {
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    color: rgba(0, 0, 0, 0.9);
    background: none;
    padding: 0;
}

/* ===== RESPONSIVE DESIGN FOR BOTTOM OVERLAY PANEL ===== */
@media (max-width: 768px) {
    .bottom-controls-trigger {
        height: 60vh;
    }
    
    .overlay-content {
        width: 95%;
        gap: 1.5rem;
        margin: 1.5rem auto;
        padding: 1.5rem 0;
    }
    
    .controls-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1.5rem;
    }
    
    .quick-actions {
        gap: 0.75rem;
    }
    
    .control-btn {
        width: 45px;
        height: 45px;
    }
    
    .control-btn svg {
        width: 18px;
        height: 18px;
    }
}

@media (max-width: 480px) {
    .bottom-controls-trigger {
        height: 70vh;
    }
    
    .overlay-content {
        width: 100%;
        gap: 1rem;
        margin: 1rem auto;
        padding: 1rem 0;
    }
    
    .controls-grid {
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }
    
    .control-group {
        gap: 0.5rem;
    }
    
    .control-group label {
        font-size: 0.8rem;
    }
    
    .control-input span {
        font-size: 0.75rem;
        min-width: 2.5rem;
        padding: 0.2rem 0.4rem;
    }
    
    .quick-actions {
        gap: 0.5rem;
        flex-wrap: wrap;
    }
    
    .control-btn {
        width: 40px;
        height: 40px;
    }
    
    .control-btn svg {
        width: 16px;
        height: 16px;
    }
    
    .pattern-display span {
        font-size: 0.75rem;
    }
}

/* ===== IMAGE MANAGER STYLES ===== */
/* Image Manager scrollable content container */
.image-manager-modal .images-container {
    flex: 1;
    overflow-y: auto;
    min-height: 0;
}

.image-manager-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    padding: 1rem;
}

@media (min-width: 640px) {
    .image-manager-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

@media (min-width: 1024px) {
    .image-manager-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

@media (min-width: 1280px) {
    .image-manager-grid {
        grid-template-columns: repeat(5, minmax(0, 1fr));
    }
}

/* Image card container for positioning delete button */
.image-card-container {
    position: relative;
}

.image-card {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    transition: box-shadow 0.3s ease;
}

.image-card:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.image-card-thumbnail {
    aspect-ratio: 1;
    background: #f3f4f6;
    position: relative;
}

.image-card-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.image-delete-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 1.5rem;
    height: 1.5rem;
    background: #ef4444;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    z-index: 20;
}

.image-delete-btn:hover {
    background: #dc2626;
    transform: scale(1.1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.image-delete-btn svg {
    width: 0.75rem;
    height: 0.75rem;
    opacity: 0.7;
    transition: opacity 0.2s ease;
}

.image-delete-btn:hover svg {
    opacity: 1;
}

.image-card-info {
    padding: 0.75rem;
}

.image-card-filename {
    color: rgba(0, 0, 0, 0.8);
    font-size: 0.875rem;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 0.25rem;
}

.image-card-details {
    color: rgba(0, 0, 0, 0.5);
    font-size: 0.75rem;
    display: flex;
    justify-content: space-between;
}

.upload-area {
    border: 2px dashed rgba(0, 0, 0, 0.2);
    border-radius: 0.5rem;
    padding: 2rem;
    text-align: center;
    cursor: pointer;
    transition: border-color 0.3s ease;
    margin-bottom: 1.5rem;
}

/* Image Manager upload area - compact and fixed */
.image-manager-modal .upload-area {
    padding: 1rem;
    margin-bottom: 1rem;
    flex-shrink: 0;
}

.upload-area:hover {
    border-color: rgba(0, 0, 0, 0.4);
}

.upload-area.dragover {
    border-color: #3b82f6;
    background-color: rgba(59, 130, 246, 0.05);
}

.upload-progress {
    margin-top: 1rem;
}

.upload-progress-bar {
    width: 100%;
    height: 8px;
    background-color: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.upload-progress-fill {
    height: 100%;
    background-color: #3b82f6;
    border-radius: 4px;
    transition: width 0.3s ease;
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    z-index: 300;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    pointer-events: auto;
}

.modal:not(.hidden) {
    display: flex;
}

.modal-content {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-radius: 1rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    width: 100%;
    max-width: 72rem;
    max-height: 90vh;
    overflow: hidden;
}

.modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: rgba(0, 0, 0, 0.9);
}

.modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.1);
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.modal-close:hover {
    background: rgba(0, 0, 0, 0.2);
}

.modal-body {
    padding: 1.5rem;
    overflow-y: auto;
    max-height: calc(90vh - 120px);
}

/* Image Manager specific modal body layout */
.image-manager-modal .modal-body {
    display: flex;
    flex-direction: column;
    padding: 1rem;
    overflow: hidden;
}

/* ===== SEMANTIC COMPONENT STYLES ===== */
.app-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

.kiosk-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

.canvas-container {
    width: 100%;
    height: 100%;
    position: relative;
    background: #000;
    transition: background-color 0.5s ease, color 0.5s ease;
}

/* Canvas Drop Shadow - Applied over matte border */
.canvas-drop-shadow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 60;
    border-radius: 0;
    transition: box-shadow 0.5s ease;
    /* Ensure the element has a visible boundary for the shadow */
    border: 1px solid transparent;
}

.filterable-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 0;
    transition: background-color 0.5s ease;
}

.texture-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease;
    mix-blend-mode: normal;
    background-image: url('/static/resources/linen-weave-canvas-dark.png');
    background-repeat: repeat;
    background-size: 20%;
}

body.white-background .texture-overlay {
    mix-blend-mode: multiply;
    background-image: url('/static/resources/linen-weave-canvas.png');
    z-index: 15;
}

.image-layers-container {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
    background: transparent;
    transition: background-color 0.5s ease, color 0.5s ease;
    box-sizing: border-box;
    z-index: 20;
}

.rule-of-thirds-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 30;
}

.matte-border-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
}

.loading-indicator {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    padding: 2rem;
    border-radius: 1rem;
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    transition: background-color 0.5s ease, color 0.5s ease;
}

.loading-spinner {
    width: 3rem;
    height: 3rem;
    border: 4px solid rgba(255, 255, 255, 0.2);
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem auto;
}

.loading-spinner.small {
    width: 2rem;
    height: 2rem;
    border-width: 2px;
}

.ui-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 100;
}

.controls-panel {
    display: none;
    position: absolute;
    top: 2rem;
    right: 2rem;
    gap: 0.5rem;
    pointer-events: auto;
}

.controls-panel.visible {
    display: flex;
}

.control-button {
    background: rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #fff;
    padding: 0.75rem;
    border-radius: 0.5rem;
    cursor: pointer;
    font-size: 1.25rem;
    transition: all 0.2s ease;
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
}

.control-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
}

.control-button:active {
    transform: scale(0.95);
}

.error-message {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(219, 39, 119, 0.9);
    color: #fff;
    padding: 1.5rem;
    border-radius: 0.75rem;
    text-align: center;
    max-width: 24rem;
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    pointer-events: auto;
    transition: background-color 0.5s ease, color 0.5s ease;
}

.retry-button {
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #fff;
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    cursor: pointer;
    margin-top: 1rem;
    transition: background-color 0.2s ease;
}

.retry-button:hover {
    background: rgba(255, 255, 255, 0.3);
}

.retry-spinner {
    width: 2rem;
    height: 2rem;
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 1rem auto 0 auto;
}

/* Duplicate modal definition removed - using the one above */

.modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

@media (min-width: 640px) {
    .modal-backdrop {
        padding: 1.5rem;
    }
}

@media (min-width: 768px) {
    .modal-backdrop {
        padding: 2rem;
    }
}

/* Gallery Manager Modal - Position at bottom for artwork visibility */
.gallery-manager-modal {
    background-color: transparent !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

.gallery-manager-modal .modal-backdrop {
    align-items: flex-end;
    justify-content: center;
    background: transparent;
}

.gallery-manager-modal .modal-content {
    max-height: 80vh;
    margin-bottom: 0;
    border-radius: 1rem 1rem 0 0;
    width: auto;
    max-width: 500px;
    min-width: 400px;
    overflow-y: auto;
}

.gallery-controls {
    padding: 1rem 1.5rem 1.5rem 1.5rem;
}

.gallery-description {
    color: rgba(0, 0, 0, 0.7);
    font-size: 0.875rem;
    margin: 0 0 1.5rem 0;
    text-align: center;
}

.gallery-reset-btn {
    width: 100%;
    padding: 0.75rem 1.5rem;
    background: rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 0.5rem;
    color: rgba(0, 0, 0, 0.8);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.gallery-reset-btn:hover {
    background: rgba(0, 0, 0, 0.15);
    border-color: rgba(0, 0, 0, 0.3);
}

.control-section {
    margin-bottom: 1.5rem;
}

.control-section:last-child {
    margin-bottom: 0;
}

/* Duplicate modal-related definitions removed - using the ones above */

.loading-section {
    display: none;
    text-align: center;
    padding: 3rem 0;
}

.loading-text {
    color: rgba(0, 0, 0, 0.7);
}

.empty-section {
    display: none;
    text-align: center;
    padding: 3rem 0;
}

.empty-section:not(.hidden) {
    display: block;
}

.empty-icon {
    width: 4rem;
    height: 4rem;
    fill: rgba(0, 0, 0, 0.3);
    margin: 0 auto 1rem auto;
}

.empty-title {
    color: rgba(0, 0, 0, 0.7);
    font-size: 1.125rem;
    margin-bottom: 0.5rem;
}

.empty-subtitle {
    color: rgba(0, 0, 0, 0.5);
    font-size: 0.875rem;
}

.favorites-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
}

@media (min-width: 640px) {
    .favorites-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

@media (min-width: 1024px) {
    .favorites-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

@media (min-width: 1280px) {
    .favorites-grid {
        grid-template-columns: repeat(5, minmax(0, 1fr));
    }
}

.upload-icon {
    width: 3rem;
    height: 3rem;
    fill: rgba(0, 0, 0, 0.3);
    margin: 0 auto 1rem auto;
}

.upload-title {
    color: rgba(0, 0, 0, 0.7);
    font-size: 1.125rem;
    margin-bottom: 0.5rem;
}

.upload-subtitle {
    color: rgba(0, 0, 0, 0.5);
    font-size: 0.875rem;
}

.upload-input {
    display: none;
}

.upload-progress {
    display: none;
    margin-top: 1rem;
}

.upload-status {
    color: rgba(0, 0, 0, 0.7);
    font-size: 0.875rem;
    margin-top: 0.5rem;
}

/* ===== FAVORITES CARD STYLES ===== */
.favorite-card-container {
    position: relative;
}

.favorite-card {
    background: white;
    border-radius: 0.5rem;
    border: 1px solid rgba(0, 0, 0, 0.1);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s ease;
}

body.white-background .favorite-card {
    background: white;
    border-color: rgba(0, 0, 0, 0.1);
}

body:not(.white-background) .favorite-card {
    background: #333;
    border-color: rgba(255, 255, 255, 0.2);
    color: #fff;
}

.favorite-card:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    transform: translateY(-2px);
}

.favorite-preview {
    position: relative;
    aspect-ratio: 1;
    background: #f3f4f6;
    overflow: hidden;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.favorite-preview:hover .preview-overlay {
    opacity: 1;
}

.preview-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.2), transparent);
    opacity: 0;
    transition: opacity 0.2s ease;
}

.favorite-info {
    padding: 0.75rem;
}

.info-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.date-info {
    font-size: 0.875rem;
    color: rgba(0, 0, 0, 0.7);
}

body:not(.white-background) .date-info {
    color: rgba(255, 255, 255, 0.8);
}

.time-info {
    font-size: 0.75rem;
    color: rgba(0, 0, 0, 0.5);
}

body:not(.white-background) .time-info {
    color: rgba(255, 255, 255, 0.6);
}

.layer-count {
    font-size: 0.75rem;
    color: rgba(0, 0, 0, 0.5);
}

body:not(.white-background) .layer-count {
    color: rgba(255, 255, 255, 0.6);
}

.favorite-delete-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 1.5rem;
    height: 1.5rem;
    background: #ef4444;
    color: white;
    border-radius: 50%;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    z-index: 20;
}

.favorite-delete-btn:hover {
    background: #dc2626;
    transform: scale(1.1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.favorite-delete-btn svg {
    width: 0.75rem;
    height: 0.75rem;
    opacity: 0.7;
    transition: opacity 0.2s ease;
}

.favorite-delete-btn:hover svg {
    opacity: 1;
}


/* Canvas thumbnails only - no complex preview layer styles needed */

/* Kiosk specific styles */
.kiosk-controls {
    position: absolute;
    top: 2rem;
    right: 2rem;
    z-index: 999;
    display: flex;
    gap: 0.75rem;
}

@media (min-width: 768px) {
    .kiosk-controls {
        top: 1rem;
        right: 1rem;
        gap: 0.5rem;
    }
}

.kiosk-control-button {
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid rgba(255, 255, 255, 1);
    border-radius: 0.5rem;
    padding: 0.75rem;
    color: #000;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

@media (min-width: 768px) {
    .kiosk-control-button {
        padding: 0.5rem;
        width: 2.5rem;
        height: 2.5rem;
    }
}

.kiosk-control-button:hover {
    background: rgba(255, 255, 255, 1);
    border-color: rgba(200, 200, 200, 1);
    transform: scale(1.05);
}

.kiosk-control-button:active {
    transform: scale(0.95);
}

.kiosk-control-button.favorite:hover {
    color: #f87171;
}

.kiosk-icon {
    width: 1.25rem;
    height: 1.25rem;
    fill: currentColor;
}

@media (min-width: 768px) {
    .kiosk-icon {
        width: 1rem;
        height: 1rem;
    }
}

/* ===== DEBUG STYLES FOR RULE OF THIRDS VISUALIZATION ===== */
.image-layer.debug-mode {
    border: 3px solid rgba(0, 255, 0, 0.9) !important;
    box-shadow: 0 0 0 1px rgba(0, 255, 0, 0.5), inset 0 0 0 1px rgba(0, 255, 0, 0.3) !important;
}

.image-layer.debug-mode::before {
    content: '' !important;
    position: absolute !important;
    top: -3px !important;
    left: -3px !important;
    right: -3px !important;
    bottom: -3px !important;
    border: 3px solid rgba(0, 255, 0, 0.9) !important;
    box-shadow: 0 0 0 1px rgba(0, 255, 0, 0.5), inset 0 0 0 1px rgba(0, 255, 0, 0.3) !important;
    z-index: 999 !important;
    pointer-events: none !important;
}

.center-marker,
.debug-center-marker,
.layer-center-marker {
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    width: 12px !important;
    height: 12px !important;
    background: rgba(255, 0, 255, 0.95) !important;
    border: 2px solid rgba(255, 255, 255, 0.8) !important;
    border-radius: 50% !important;
    transform: translate(-50%, -50%) !important;
    z-index: 1000 !important;
    pointer-events: none !important;
    box-shadow: 0 0 4px rgba(255, 0, 255, 0.6) !important;
    opacity: 1 !important;
}

/* Background toggle button active state indicator */
#background-toggle-btn.white-bg-active {
    background: rgba(255, 255, 255, 0.3) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.4) !important;
}

/* ===== GALLERY MANAGER RESPONSIVE STYLES ===== */
@media (max-width: 768px) {
    .gallery-manager-modal .modal-content {
        max-width: 95vw;
        min-width: 300px;
        max-height: 85vh;
    }
    
    .gallery-controls {
        padding: 1rem;
    }
    
    .control-group {
        gap: 0.5rem;
    }
    
    .control-group label {
        font-size: 0.8rem;
    }
    
    .control-input span {
        font-size: 0.75rem;
        min-width: 2.5rem;
    }
}

@media (max-width: 480px) {
    .gallery-manager-modal .modal-content {
        max-width: 100vw;
        min-width: 280px;
        max-height: 90vh;
        border-radius: 0.75rem 0.75rem 0 0;
    }
    
    .gallery-controls {
        padding: 0.75rem;
    }
    
    .control-section {
        margin-bottom: 1rem;
    }
    
    .gallery-description {
        font-size: 0.8rem;
        margin: 0 0 1rem 0;
    }
    
    .gallery-reset-btn {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
    }
}

@media (max-height: 600px) {
    .gallery-manager-modal .modal-content {
        max-height: 95vh;
    }
    
    .gallery-controls {
        padding: 0.5rem 1rem 1rem 1rem;
    }
    
    .control-section {
        margin-bottom: 0.75rem;
    }
    
    .gallery-description {
        margin: 0 0 0.75rem 0;
    }
}

/* ===== REMOTE CONTROL STYLES ===== */

/* Base remote styles */
body.remote-control {
    background: #1a1a1a;
    color: #ffffff;
    overflow-y: auto;
    overflow-x: hidden;
    font-size: 16px;
    line-height: 1.5;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* White background theme for remote */
body.remote-control.white-theme {
    background: #f5f5f5;
    color: #333;
}

body.remote-control.white-theme .remote-app {
    background: linear-gradient(135deg, #f5f5f5 0%, #e5e5e5 100%);
}

body.remote-control.white-theme .remote-header {
    background: linear-gradient(135deg, #e0e0e0 0%, #d0d0d0 100%);
    border-bottom-color: #ccc;
    color: #333;
}

body.remote-control.white-theme .control-section {
    background: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.1);
    color: #333;
}

body.remote-control.white-theme .section-title {
    color: #333;
    border-bottom-color: rgba(0, 0, 0, 0.1);
}

body.remote-control.white-theme .connection-text {
    color: #666;
}

.remote-app {
    max-width: 420px;
    margin: 0 auto;
    min-height: 100vh;
    background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
}

/* Header */
.remote-header {
    background: linear-gradient(135deg, #333 0%, #444 100%);
    padding: 1.5rem 1rem 1rem 1rem;
    text-align: center;
    border-bottom: 2px solid #555;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.remote-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0 0 0.25rem 0;
    color: #ffffff;
}

.remote-subtitle {
    font-size: 0.9rem;
    margin: 0 0 1rem 0;
    color: #ccc;
    opacity: 0.8;
}

.connection-status {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.85rem;
}

.connection-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #4CAF50;
    animation: pulse 2s infinite;
}

.connection-indicator.disconnected {
    background: #f44336;
    animation: none;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

.connection-text {
    color: #ccc;
}

/* Main content */
.remote-content {
    padding: 1rem;
}

/* Control sections */
.control-section {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 1rem;
    margin-bottom: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.section-title {
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0 0 1rem 0;
    color: #ffffff;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 0.5rem;
}

/* Quick actions grid */
.quick-actions-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
}

.action-btn {
    background: linear-gradient(135deg, #444 0%, #555 100%);
    border: 1px solid #666;
    border-radius: 8px;
    padding: 1rem 0.5rem;
    color: #ffffff;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.85rem;
    font-weight: 500;
    min-height: 80px;
}

.action-btn:hover {
    background: linear-gradient(135deg, #555 0%, #666 100%);
    border-color: #777;
    transform: translateY(-1px);
}

.action-btn:active {
    transform: translateY(0);
    background: linear-gradient(135deg, #333 0%, #444 100%);
}

.action-btn.primary {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    border-color: #4CAF50;
}

.action-btn.primary:hover {
    background: linear-gradient(135deg, #45a049 0%, #3d8b40 100%);
}

.action-icon {
    width: 20px;
    height: 20px;
    fill: currentColor;
}

.action-label {
    font-size: 0.75rem;
    text-align: center;
    line-height: 1.2;
}

/* Control inputs */
.controls-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.control-item {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.control-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: #ffffff;
}

.control-input-group {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.control-slider {
    flex: 1;
    height: 6px;
    border-radius: 3px;
    background: #333;
    outline: none;
    -webkit-appearance: none;
    cursor: pointer;
}

.control-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #4CAF50;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    transition: all 0.2s ease;
}

.control-slider::-webkit-slider-thumb:hover {
    background: #45a049;
    transform: scale(1.1);
}

.control-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #4CAF50;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.control-value {
    font-size: 0.9rem;
    font-weight: 600;
    color: #4CAF50;
    min-width: 3rem;
    text-align: right;
}

/* Control actions */
.control-actions {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.reset-btn {
    background: linear-gradient(135deg, #666 0%, #777 100%);
    border: 1px solid #888;
    border-radius: 6px;
    padding: 0.75rem 1rem;
    color: #ffffff;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.85rem;
    font-weight: 500;
    width: 100%;
}

.reset-btn:hover {
    background: linear-gradient(135deg, #777 0%, #888 100%);
    border-color: #999;
}

.reset-btn:active {
    background: linear-gradient(135deg, #555 0%, #666 100%);
}

/* Favorites grid */
.favorites-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 0.75rem;
    margin-top: 1rem;
}

.favorite-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

.favorite-item:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: #4CAF50;
    transform: translateY(-2px);
}

/* White theme for remote control favorites */
body.remote-control.white-theme .favorite-item {
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    color: #333;
}

body.remote-control.white-theme .favorite-item:hover {
    background: rgba(0, 0, 0, 0.1);
    border-color: #4CAF50;
}

.favorite-thumbnail {
    width: 100%;
    height: 70%;
    border-radius: 4px;
    object-fit: cover;
    background: #333;
}

/* White theme for remote control favorite thumbnails */
body.remote-control.white-theme .favorite-thumbnail {
    background: #f3f4f6;
}

.favorite-title {
    font-size: 0.7rem;
    color: #ccc;
    text-align: center;
    margin-top: 0.25rem;
    line-height: 1.1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
}

/* White theme for remote control favorite titles */
body.remote-control.white-theme .favorite-title {
    color: #666;
}

/* Remote control favorite delete buttons */
.remote-favorite-delete-btn {
    position: absolute !important;
    top: 0.25rem !important;
    right: 0.25rem !important;
    width: 1.5rem !important;
    height: 1.5rem !important;
    background: rgba(239, 68, 68, 0.9) !important;
    color: white !important;
    border-radius: 50% !important;
    border: 1px solid rgba(255, 255, 255, 0.8) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    z-index: 30 !important;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.remote-favorite-delete-btn:hover {
    background: rgba(220, 38, 38, 1) !important;
    transform: scale(1.1) !important;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4) !important;
    border-color: rgba(255, 255, 255, 1) !important;
}

.remote-favorite-delete-btn svg {
    width: 0.75rem !important;
    height: 0.75rem !important;
    opacity: 0.9 !important;
    transition: opacity 0.2s ease !important;
}

.remote-favorite-delete-btn:hover svg {
    opacity: 1 !important;
}

/* Loading and empty states */
.loading-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 2rem;
    color: #ccc;
}

.loading-spinner {
    width: 24px;
    height: 24px;
    border: 2px solid #333;
    border-top: 2px solid #4CAF50;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.loading-text {
    font-size: 0.9rem;
    margin: 0;
}

.empty-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 2rem;
    color: #ccc;
    text-align: center;
}

.empty-section:not(.hidden) {
    display: flex;
}

.empty-icon {
    width: 48px;
    height: 48px;
    fill: #555;
}

.empty-title {
    font-size: 1rem;
    font-weight: 500;
    margin: 0;
    color: #ffffff;
}

.empty-subtitle {
    font-size: 0.85rem;
    margin: 0;
    opacity: 0.8;
    line-height: 1.4;
}

/* Toast notifications - Green style matching main app */
.toast {
    position: fixed;
    top: 32px;
    left: 50%;
    transform: translateX(-50%) translateY(-100px);
    background: rgba(76, 175, 80, 0.95);
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    z-index: 10000;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    max-width: 300px;
    word-wrap: break-word;
    text-align: center;
    opacity: 0;
}

.toast:not(.hidden) {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

/* Responsive adjustments for smaller screens */
@media (max-width: 375px) {
    .remote-header {
        padding: 1rem 0.75rem 0.75rem 0.75rem;
    }
    
    .remote-content {
        padding: 0.75rem;
    }
    
    .control-section {
        padding: 0.75rem;
        margin-bottom: 0.75rem;
    }
    
    .quick-actions-grid {
        gap: 0.5rem;
    }
    
    .action-btn {
        padding: 0.75rem 0.5rem;
        min-height: 70px;
    }
    
    .favorites-grid {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 0.5rem;
    }
}

/* Safe area adjustments for iPhone */
@supports (padding: max(0px)) {
    .remote-header {
        padding-top: max(1.5rem, env(safe-area-inset-top) + 1rem);
    }
    
    .remote-content {
        padding-bottom: max(1rem, env(safe-area-inset-bottom) + 1rem);
    }
}

/* Landscape mode adjustments */
@media (orientation: landscape) and (max-height: 500px) {
    .remote-header {
        padding: 0.75rem 1rem 0.5rem 1rem;
    }
    
    .remote-title {
        font-size: 1.25rem;
    }
    
    .control-section {
        padding: 0.75rem;
        margin-bottom: 0.75rem;
    }
    
    .quick-actions-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .action-btn {
        min-height: 60px;
        padding: 0.5rem;
    }
}